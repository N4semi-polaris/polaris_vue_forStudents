{"version":3,"sources":["webpack:///./src/assets/btn_google_signin_light.png","webpack:///./src/views/Login.vue?92ae","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?3a4e","webpack:///./src/views/Login.vue?0b6d","webpack:///./src/views/Login.vue?4e49"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","PolarisLogo","GoogleLogin","on","$event","preventDefault","handleClickSignIn","staticRenderFns","name","components","mounted","console","log","$store","getters","getUserEmail","isSuccess","$router","push","data","methods","component","VCol","VContainer","VImg","VRow"],"mappings":"mGAAAA,EAAOC,QAAU,IAA0B,4C,yCCA3C,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkBC,MAAM,CAAC,GAAK,YAAY,CAACH,EAAG,cAAc,CAACE,YAAY,oBAAoBC,MAAM,CAAC,aAAa,KAAK,CAACH,EAAG,QAAQ,CAACE,YAAY,iBAAiBC,MAAM,CAAC,aAAa,KAAK,CAACH,EAAG,QAAQ,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAMP,EAAIQ,YAAY,MAAQ,YAAY,IAAI,GAAGJ,EAAG,QAAQ,CAACE,YAAY,QAAQ,CAACF,EAAG,UAAU,GAAGA,EAAG,QAAQ,CAACE,YAAY,iBAAiBC,MAAM,CAAC,aAAa,KAAK,CAACH,EAAG,QAAQ,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAMP,EAAIS,YAAY,MAAQ,SAASC,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBZ,EAAIa,kBAAkBF,QAAa,IAAI,IAAI,IAAI,IACztBG,EAAkB,G,0GCyBtB,GACEC,KAAM,QACNC,WAAY,GACZC,QAAS,WAGP,GADAC,QAAQC,IAAI,6BAC6B,KAArClB,KAAKmB,OAAOC,QAAQC,aAAqB,CAE3C,IAAN,+CACMJ,QAAQC,IAAI,oCAAsCI,GAC9CA,GACFtB,KAAKuB,QAAQC,KAAK,CAA1B,gBAKEC,KAAM,WAAR,OACA,gBACA,kBAEEC,QAAS,CACP,kBADJ,WACA,yLAIA,uBAJA,UAIA,EAJA,OAKA,SALA,iDAMA,sBACA,mBACA,8EACA,YACA,kBAEA,sCACA,iBAEA,YAEA,OADA,4CACA,QAjBA,qDAqBA,wCArBA,6DAyBI,UA1BJ,WA0BA,+JACA,kDADA,SAEA,iCAFA,OAGA,kDACA,4BACA,8BAGA,0CARA,gDCxE+U,I,6FCQ3UC,EAAY,eACd,EACA7B,EACAe,GACA,EACA,KACA,WACA,MAIa,aAAAc,EAAiB,QAQhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,aAAA,KAAWC,OAAA,KAAKC,OAAA,Q,yDC3BnD,yBAAoe,EAAG","file":"js/chunk-575c8e32.e9cc5e75.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/btn_google_signin_light.52a05e73.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fullview d-flex\",attrs:{\"id\":\"Loading\"}},[_c('v-container',{staticClass:\"align-self-center\",attrs:{\"no-gutters\":\"\"}},[_c('v-row',{staticClass:\"justify-center\",attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"flex-grow-0\"},[_c('v-img',{attrs:{\"src\":_vm.PolarisLogo,\"width\":\"250px\"}})],1)],1),_c('v-row',{staticClass:\"pa-3\"},[_c('v-col')],1),_c('v-row',{staticClass:\"justify-center\",attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"flex-grow-0\"},[_c('v-img',{attrs:{\"src\":_vm.GoogleLogin,\"width\":\"200px\"},on:{\"click\":function($event){$event.preventDefault();return _vm.handleClickSignIn($event)}}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"Loading\" class=\"fullview d-flex\">\n    <v-container class=\"align-self-center\" no-gutters>\n      <v-row class=\"justify-center\" no-gutters>\n        <v-col class=\"flex-grow-0\">\n          <v-img :src=\"PolarisLogo\" width=\"250px\" />\n        </v-col>\n      </v-row>\n      <v-row class=\"pa-3\"><v-col /></v-row>\n      <v-row class=\"justify-center\" no-gutters>\n        <v-col class=\"flex-grow-0\">\n          <v-img\n            :src=\"GoogleLogin\"\n            width=\"200px\"\n            @click.prevent=\"handleClickSignIn\"\n          />\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport PolarisLogo from \"@/assets/Polaris.png\";\nimport GoogleLogin from \"@/assets/btn_google_signin_light.png\";\n//import axios from \"axios\";\nexport default {\n  name: \"Login\",\n  components: {},\n  mounted: function () {\n    //いらないかも\n    console.log(\"Login.vueのmountedが実行されたよ！\");\n    if (this.$store.getters.getUserEmail !== \"\") {\n      //store内のemailが入ってたら\n      const isSuccess = this.$store.dispatch(\"checkTokenExpiration\"); //googleのトークン切れを確認\n      console.log(\"mountedのcheckTokenExpirationの戻り値：\" + isSuccess);\n      if (isSuccess) {\n        this.$router.push({ name: \"Home\" }); //そのままHOMEへ\n      }\n    }\n  },\n\n  data: () => ({\n    PolarisLogo: PolarisLogo,\n    GoogleLogin: GoogleLogin,\n  }),\n  methods: {\n    async handleClickSignIn() {\n      //codeとemailを取得保存&googleのトークンとcodeをdrfに保存&drfのトークンを取得したのち保存\n      try {\n        //console.log(\"handleClickSignIn()が実行されたよ！\");\n        const authCode = await this.$gAuth.getAuthCode();\n        if (authCode === null) return;\n        let data = new URLSearchParams();\n        data.append(\"code\", authCode);\n        this.$axios.post(\"//nakano2021seminar.pythonanywhere.com/accounts/google/signup/\", data).then(\n          (response) => {\n            response.data.authCode = authCode;\n            //console.log(response.data);\n            this.$store.commit(\"setUserData\", response.data); //codeとemailを取得→vuexに保存\n            this.enterPage();\n          },\n          (error) => {\n            console.error(\"[error, axios]サインインに失敗: \" + error);\n            return null;\n          }\n        );\n      } catch (error) {\n        console.error(\"[error]サインインに失敗: \" + error);\n      }\n    },\n\n    async enterPage() {\n      console.log(\"enterPage()内のobtainTokenが実行される前だよ！\");\n      await this.$store.dispatch(\"obtainToken\"); //codeとemailを使用してtokenを取得→vuexに保存\n      console.log(\"enterPage()内のbtainoTokenが実行された後だよ！\");\n      if (this.$store.getters.getIsLogin) {\n        this.$router.push({ name: \"Home\" });\n        //console.log(\"enterPage()でHomeにrouter.pushされたよ！\");\n      } else {\n        console.log(\"enterPage()内のelse文を実行してるよ！\");\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.TaskLog {\n  font-family: \"M PLUS Rounded 1c\";\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=25e84962&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=25e84962&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25e84962\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VContainer,VImg,VRow})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=25e84962&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=25e84962&scoped=true&lang=css&\""],"sourceRoot":""}